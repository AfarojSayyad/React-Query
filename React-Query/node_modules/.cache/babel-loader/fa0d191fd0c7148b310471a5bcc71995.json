{"ast":null,"code":"var _jsxFileName = \"/home/sagar/Internship_Work/Afroj React Query/React-Query/src/components/RQSuperHeroes.page.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useAddSuperHeroData, useSuperHeroesData } from \"./hooks/useSuperHeroesData\";\nimport { Link } from \"react-router-dom\"; // c:useQuery : usequery is the hook which we are going to use for all our data fetching need \n// c: this hook needs at least 2 arguments to identify this query\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const RQSuperHeroesPage = () => {\n  _s();\n\n  //c: new code for adding new superHero information\n  const [name, setName] = useState('');\n  const [alterEgo, setAlterEgo] = useState(''); // new hero info end here\n\n  const onSuccess = data => {\n    console.log('Perform side effect after data fetchng', data);\n  };\n\n  const onError = error => {\n    console.log('Perform side effect after encountering error', error);\n  }; //c:one way to fetch the data\n  // const {isLoading, data}=useQuery('seper-heroes', ()=> {\n  //    return axios.get('http://localhost:3000/superheroes')\n  // })\n  // c: another way to fetch the data\n\n\n  const {\n    isLoading,\n    data,\n    isError,\n    error,\n    isFetching,\n    refetch\n  } = useSuperHeroesData(onSuccess, onError); //c: here mutate is a function to call a post request\n\n  const {\n    mutate: addHero\n  } = useAddSuperHeroData();\n\n  const handleAddHeroClick = () => {\n    console.log({\n      name,\n      alterEgo\n    });\n    const hero = {\n      name,\n      alterEgo\n    };\n    addHero(hero);\n  }; // c: when we first time load the data the isLoading and is fetching is set to true.\n  // and when data is loaded from query cache the loading text will remain set as false and is fetching is also set as false\n  // But when we add or update the data in db.json file isLoading remail false but isFetching set as true and when new data is loaded then both will remain as false for the subsequent.\n\n\n  console.log({\n    isLoading,\n    isFetching\n  });\n\n  if (isLoading || isFetching) {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Loading...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 16\n    }, this);\n  }\n\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: error.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 16\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \" RQ Super Heroes Page\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: name,\n        onChange: e => setName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: alterEgo,\n        onChange: e => setAlterEgo(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddHeroClick,\n        children: \"Add Hero\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: refetch,\n      children: \"Fetch Heroes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), data === null || data === void 0 ? void 0 : data.data.map(hero => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/rq-super-hero/${hero.id}`,\n          children: [\" \", hero.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 19\n        }, this)\n      }, hero.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 24\n      }, this);\n    })]\n  }, void 0, true);\n};\n\n_s(RQSuperHeroesPage, \"f4K1ORGzFRYI220gBfHQNcMoFnM=\", false, function () {\n  return [useSuperHeroesData, useAddSuperHeroData];\n});\n\n_c = RQSuperHeroesPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RQSuperHeroesPage\");","map":{"version":3,"names":["React","useState","useAddSuperHeroData","useSuperHeroesData","Link","RQSuperHeroesPage","name","setName","alterEgo","setAlterEgo","onSuccess","data","console","log","onError","error","isLoading","isError","isFetching","refetch","mutate","addHero","handleAddHeroClick","hero","message","e","target","value","map","id"],"sources":["/home/sagar/Internship_Work/Afroj React Query/React-Query/src/components/RQSuperHeroes.page.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useAddSuperHeroData, useSuperHeroesData } from \"./hooks/useSuperHeroesData\";\nimport { Link } from \"react-router-dom\";\n// c:useQuery : usequery is the hook which we are going to use for all our data fetching need \n// c: this hook needs at least 2 arguments to identify this query\n\nexport const RQSuperHeroesPage=()=>\n{\n\n    //c: new code for adding new superHero information\n    const [name, setName] = useState('')\n    const [alterEgo, setAlterEgo] = useState('')\n    // new hero info end here\n\n    const onSuccess = (data) => {\n        console.log('Perform side effect after data fetchng',data);\n    }\n\n    const onError = (error) => {\n        console.log('Perform side effect after encountering error',error);\n    }\n\n    //c:one way to fetch the data\n    // const {isLoading, data}=useQuery('seper-heroes', ()=> {\n    //    return axios.get('http://localhost:3000/superheroes')\n\n    // })\n\n    // c: another way to fetch the data\n    const {isLoading, data, isError, error, isFetching, refetch }= useSuperHeroesData(onSuccess, onError);\n    //c: here mutate is a function to call a post request\n    const{mutate : addHero }=useAddSuperHeroData()\n\n    const handleAddHeroClick=()=>{\n        console.log({name, alterEgo});\n        const hero = {name, alterEgo}\n        addHero(hero)\n    }\n\n    // c: when we first time load the data the isLoading and is fetching is set to true.\n    // and when data is loaded from query cache the loading text will remain set as false and is fetching is also set as false\n    // But when we add or update the data in db.json file isLoading remail false but isFetching set as true and when new data is loaded then both will remain as false for the subsequent.\n    console.log({ isLoading, isFetching})\n\n    if(isLoading || isFetching){\n        return <h2>Loading...</h2>\n    }\n    if(isError){\n        return <h2>{error.message}</h2>\n    }\n    return(\n        <>\n            <h1> RQ Super Heroes Page</h1>\n            {/* new code for adding new information of new superHero */}\n            <div>\n                <input \n                    type='text'\n                    value={name}\n                    onChange={(e)=> setName(e.target.value)}\n                />\n                <input\n                    type='text'\n                    value={alterEgo}\n                    onChange={(e)=> setAlterEgo(e.target.value)}\n                />\n                <button onClick={handleAddHeroClick}>Add Hero</button>\n                \n            </div>\n            {/*  */}\n            {/* c:By using refetch property we can show the data onClick event */}\n            <button onClick={refetch}>Fetch Heroes</button>\n            {data?.data.map((hero)=>{\n                return <div key={hero.id}>\n                  <Link to={`/rq-super-hero/${hero.id}`}> {hero.name}</Link>\n                </div>\n             })}\n            {/* {\n                //c: data here refers to the superHeroNames array\n                data.map(heroName => {\n                    return <div key={heroName}> {heroName }</div>\n                })\n            } */}\n            \n\n        </>\n    ) \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}